function detect_product_variation(){if(jQuery("input[name=variation_id]").length>0){if(jQuery("input[name=variation_id]").val()>0)return jQuery("input[name=variation_id]").val();{let t;return JSON.parse(jQuery(".variations_form").attr("data-product_variations").replace("&quot;",'"')).map(a=>{a.is_in_stock&&(t=a.variation_id)}),null!=t&&null!=t&&t}}return jQuery("*[name=add-to-cart]").length>0&&(jQuery("*[name=add-to-cart]").val()>0&&jQuery("*[name=add-to-cart]").val())}!function(t){"use strict";t(function(){t("#wscp-button").on("click",function(){if(t("#wscp-postcode").val().length<3)t("#wscp-postcode").focus();else{t("#wscp-response").html("");var a=detect_product_variation();a?(t("#wscp-button").addClass("loading"),t.ajax({type:"post",url:wscp_admin_url+"?action=wscp_ajax_postcode",data:{product:a,qty:t(".quantity input.qty").length?t(".quantity input.qty").val():1,postcode:t("#wscp-postcode").val(),nonce:t("#wscp-nonce").val()},success:function(a){t("#wscp-button").removeClass("loading"),t("#wscp-response").fadeOut("fast",function(){t(this).html(a).fadeIn("fast")})}})):t("#wscp-response").fadeOut("fast",function(){t(this).html("<div class='woocommerce-message woocommerce-error'>Por favor, escolha uma opção antes de calcular.</div>").fadeIn("fast")})}}),t("form.cart, #wscp-postcode").on("keypress",function(a){if(13===(a.keyCode||a.which))return t("#wscp-button").click(),a.preventDefault(),!1})})}(jQuery);
